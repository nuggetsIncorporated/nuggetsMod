###########################
# Bulgaria Decisions
###########################
# By Augenis
###########################

BUL_media_battle_decisions = {
	BUL_operation_nishava_fallout = {
		icon = generic_prepare_civil_war

		allowed = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			NOT = {
				has_idea = BUL_state_protection_act
			}
		}

		selectable_mission = no
		is_good = no
		days_mission_timeout = 300

		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout BUL_operation_nishava_fallout"
			country_event = bulgaria.18
		}
	}
	BUL_prince_monthly_check = {
		icon = generic_prepare_civil_war

		allowed = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			NOT = {
				has_active_mission = BUL_operation_nishava_fallout
			}
		}

		selectable_mission = no
		is_good = no
		days_mission_timeout = 30

		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout BUL_prince_monthly_check"
			BUL_grant_prince_effects = yes
			hidden_effect = {
				activate_mission = BUL_prince_monthly_check
			}
		}
	}
	BUL_spin_scandals_about_royal_family = {
		icon = GFX_decision_ger_mefo_bills

		fire_only_once = no
		cost = 25
		days_remove = 30
		fixed_random_seed = no

		visible = {
			has_active_mission = BUL_operation_nishava_fallout
			OR = {
				has_country_flag = BUL_stands_with_opposition
				has_country_flag = BUL_stands_with_zveno
			}
		}

		ai_will_do = { factor = 10000 }

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_spin_scandals_about_royal_family"
			set_temp_variable = { BUL_tsar_change = 20 }
			custom_effect_tooltip = BUL_boris_perception_worsen_tt
			subtract_from_variable = { BUL_tsar_perception = BUL_tsar_change }
			clamp_variable = { var = BUL_tsar_perception max = 100 min = 0 }
			if = {
				limit = {
					has_country_flag = BUL_stands_with_zveno
				}
				set_temp_variable = { BUL_deputies = 5 }
				custom_effect_tooltip = BUL_increase_deputy_support_tt
				add_to_variable = { BUL_parliamentary_support = BUL_deputies }
				clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
				random_list = {
					60 = {
						add_to_variable = { BUL_coup_success_chance = 10 }
						clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
						custom_effect_tooltip = BUL_increase_coup_chance_tt
					}
					30 = {
						set_temp_variable = { BUL_deputies = 10 }
						custom_effect_tooltip = BUL_increase_deputy_support_tt
						add_to_variable = { BUL_parliamentary_support = BUL_deputies }
						clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
					}
					10 = {

					}
				}
			}
			else = {
				add_to_variable = { BUL_coup_success_chance = 5 }
				clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
				custom_effect_tooltip = BUL_increase_coup_chance_slight_tt
				random_list = {
					30 = {
						add_to_variable = { BUL_coup_success_chance = 10 }
						clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
						custom_effect_tooltip = BUL_increase_coup_chance_tt
					}
					60 = {
						set_temp_variable = { BUL_deputies = 10 }
						custom_effect_tooltip = BUL_increase_deputy_support_tt
						add_to_variable = { BUL_parliamentary_support = BUL_deputies }
						clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
					}
					10 = {

					}
				}
			}
		}
	}
	BUL_defend_royal_family = {
		icon = GFX_decision_ger_mefo_bills

		fire_only_once = no
		cost = 25
		days_remove = 30
		fixed_random_seed = no

		visible = {
			has_active_mission = BUL_operation_nishava_fallout
			has_country_flag = BUL_stands_with_prince
		}

		ai_will_do = { factor = 10000 }

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_defend_royal_family"
			set_temp_variable = { BUL_tsar_change = 20 }
			custom_effect_tooltip = BUL_boris_perception_improve_tt
			add_to_variable = { BUL_tsar_perception = BUL_tsar_change }
			clamp_variable = { var = BUL_tsar_perception max = 100 min = 0 }
			random_list = {
				40 = {
					add_to_variable = { BUL_coup_success_chance = 10 }
					clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
					custom_effect_tooltip = BUL_increase_coup_chance_tt
				}
				40 = {
					set_temp_variable = { BUL_deputies = 10 }
					custom_effect_tooltip = BUL_increase_deputy_support_tt
					add_to_variable = { BUL_parliamentary_support = BUL_deputies }
					clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
				}
				20 = {

				}
			}
		}
	}
	BUL_gather_supporters = {
		icon = GFX_decision_ger_mefo_bills

		fire_only_once = no
		cost = 25
		days_remove = 30
		fixed_random_seed = no

		visible = {
			has_active_mission = BUL_operation_nishava_fallout
			OR = {
				has_country_flag = BUL_stands_with_prince
				has_country_flag = BUL_stands_with_opposition
			}
		}

		ai_will_do = { factor = 10000 }

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_gather_supporters"
			if = {
				limit = {
					has_country_flag = BUL_stands_with_opposition
				}
				set_temp_variable = { BUL_deputies = 20 }
				custom_effect_tooltip = BUL_increase_deputy_support_tt
				add_to_variable = { BUL_parliamentary_support = BUL_deputies }
				clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
			}
			else = {
				set_temp_variable = { BUL_deputies = 20 }
				custom_effect_tooltip = BUL_reduce_deputy_support_tt
				subtract_from_variable = { BUL_parliamentary_support = BUL_deputies }
				clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
			}
			random_list = {
				40 = {
					add_to_variable = { BUL_coup_success_chance = 10 }
					clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
					custom_effect_tooltip = BUL_increase_coup_chance_tt
				}
				40 = {
					if = {
						limit = {
							has_country_flag = BUL_stands_with_opposition
						}
						set_temp_variable = { BUL_tsar_change = 15 }
						custom_effect_tooltip = BUL_boris_perception_worsen_tt
						subtract_from_variable = { BUL_tsar_perception = BUL_tsar_change }
						clamp_variable = { var = BUL_tsar_perception max = 100 min = 0 }
					}
					else = {
						set_temp_variable = { BUL_tsar_change = 15 }
						custom_effect_tooltip = BUL_boris_perception_improve_tt
						add_to_variable = { BUL_tsar_perception = BUL_tsar_change }
						clamp_variable = { var = BUL_tsar_perception max = 100 min = 0 }
					}
				}
				20 = {

				}
			}
		}
	}
	BUL_fearmongering = {
		icon = GFX_decision_ger_mefo_bills

		fire_only_once = no
		cost = 25
		days_remove = 30

		visible = {
			has_active_mission = BUL_operation_nishava_fallout
			OR = {
				has_country_flag = BUL_stands_with_zveno
				has_country_flag = BUL_stands_with_prince
				has_country_flag = BUL_stands_with_opposition
			}
		}

		ai_will_do = { factor = 10000 }

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_fearmongering"
			add_to_variable = { BUL_coup_success_chance = 20 }
			clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
			custom_effect_tooltip = BUL_increase_coup_chance_tt
			if = {
				limit = {
					has_country_flag = BUL_stands_with_prince
				}
				set_temp_variable = { BUL_deputies = 15 }
				custom_effect_tooltip = BUL_reduce_deputy_support_tt
				subtract_from_variable = { BUL_parliamentary_support = BUL_deputies }
				clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
			}
			else = {
				set_temp_variable = { BUL_deputies = 15 }
				custom_effect_tooltip = BUL_increase_deputy_support_tt
				add_to_variable = { BUL_parliamentary_support = BUL_deputies }
				clamp_variable = { var = BUL_parliamentary_support max = 280 min = 0 }
			}
		}
	}
	BUL_buklovi_bankruptcy_fallout = {
		icon = generic_prepare_civil_war

		allowed = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			has_completed_focus = BUL_bank_consolidation
		}

		selectable_mission = no
		is_good = no
		days_mission_timeout = 90

		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout BUL_buklovi_bankruptcy_fallout"
			BUL_raise_black_monday = yes
			set_country_flag = BUL_buklovi_bankrupt
			hidden_effect = {
				unlock_national_focus = BUL_bank_consolidation
			}
			add_to_variable = { BUL_coup_success_chance = 20 }
			clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
			custom_effect_tooltip = BUL_increase_coup_chance_tt
			BUL_fire_zveno_coup = yes
		}
	}
	BUL_vidovdan_speech_fallout = {
		icon = generic_prepare_civil_war

		allowed = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			OR = {
				has_completed_focus = BUL_taming_the_powderkeg
				NOT = {
					has_active_mission = BUL_operation_nishava_fallout
				}
			}
		}

		selectable_mission = no
		is_good = no
		days_mission_timeout = 50

		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout BUL_vidovdan_speech_fallout"
			add_to_variable = { BUL_coup_success_chance = 20 }
			clamp_variable = { var = BUL_coup_success_chance max = 100 min = 0 }
			custom_effect_tooltip = BUL_increase_coup_chance_tt
			BUL_fire_zveno_coup = yes
		}
	}
}
economy_decisions = {
	BUL_great_etatist_project_mission = {
		icon = eng_trade_unions_demand

		allowed = { always = no } #manually activated

		available = {
			num_of_factories > BUL_factory_goals?28 #28 from starting factories + 10
			if = {
				limit = {
					has_country_flag = BUL_industry_level_0
				}
				has_tech = improved_machine_tools
				has_tech = construction1
				OR = {
					has_tech = concentrated_industry
					has_tech = dispersed_industry
				}
			}
			else_if = {
				limit = {
					has_country_flag = BUL_industry_level_1
				}
				has_tech = improved_machine_tools
				has_tech = construction2
				OR = {
					has_tech = concentrated_industry2
					has_tech = dispersed_industry2
				}
			}
			else_if = {
				limit = {
					has_country_flag = BUL_industry_level_2
				}
				has_tech = advanced_machine_tools
				has_tech = construction3
				OR = {
					has_tech = concentrated_industry3
					has_tech = dispersed_industry3
				}
			}
			else_if = {
				limit = {
					has_country_flag = BUL_industry_level_3
				}
				has_tech = assembly_line_production
				has_tech = construction4
				OR = {
					has_tech = concentrated_industry4
					has_tech = dispersed_industry4
				}
			}
			else_if = {
				limit = {
					has_country_flag = BUL_industry_level_4
				}
				OR = {
					has_tech = flexible_line
					has_tech = streamlined_line
				}
				has_tech = construction5
				OR = {
					has_tech = concentrated_industry5
					has_tech = dispersed_industry5
				}
			}
			has_completed_focus = BUL_modernize_sofia
			has_completed_focus = BUL_sub_balkan_line
			has_completed_focus = BUL_ruse_industrial_centre
			has_completed_focus = BUL_kremikovtsi
			has_completed_focus = BUL_universities
		}

		is_good = no
		fire_only_once = yes
		days_mission_timeout = 600

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_great_etatist_project_mission"
			add_stability = 0.10
			add_ideas = BUL_belgium_of_the_balkans
		}

		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout BUL_great_etatist_project_mission"
			add_stability = -0.20
		}
	}
}

foreign_politics = {
	CHT_declare_serbian_kingdom = { # for the event where the chetniks survive and conquer shit
		icon = GFX_decision_eng_blackshirt_march

		allowed = { original_tag = SER }

		visible = {
			tag = event_target:chetnik_state
		}

		fire_only_once = yes

		visible = {
			NOT = { has_war_with = BUL }
		}

		ai_will_do = { factor = 100 }

		cost = 0

		complete_effect = {
			log = "[GetLogRoot]: Decision complete CHT_declare_serbian_kingdom"
			set_cosmetic_tag = CHT_state
			remove_ideas = CHT_uprising
			if = {
				limit = { owns_state = 107 }
				set_capital = { state = 107 remember_old_capital = no }
			}
			hidden_effect = {
				event_target:original_serbia = { SER_petar_ii = { set_nationality = ROOT } }
				if = {
					limit = { has_character = SER_petar_ii }
					SER_petar_ii = {
						if = {
							limit = { has_ideology = paternal_autocrat_subtype }
							promote_character = paternal_autocrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = SER_petar_ii_leader_desc
									ideology = paternal_autocrat_subtype
								}
								promote_leader = yes
							}
						}
						if = {
							limit = { has_ideology = authoritarian_democrat_subtype }
							promote_character = authoritarian_democrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = SER_petar_ii_leader_desc
									ideology = authoritarian_democrat_subtype
								}
								promote_leader = yes
							}
						}
						if = {
							limit = { has_ideology = national_populist_subtype }
							promote_character = national_populist_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = SER_petar_ii_leader_desc
									ideology = national_populist_subtype
								}
								promote_leader = yes
							}
						}
					}
				}
				if = {
					limit = {
						SER_has_founded_yugoslavia = yes
					}
					set_party_name = {
						ideology = authoritarian_democrat
						long_name = SER_YUG_royal_paternal_autocrat_party_long
						name = SER_YUG_royal_paternal_autocrat_party
					}
					set_party_name = {
						ideology = paternal_autocrat
						long_name = SER_YUG_royal_paternal_autocrat_party_long
						name = SER_YUG_royal_paternal_autocrat_party
					}
					set_party_name = {
						ideology = national_populist
						long_name = SER_YUG_royal_paternal_autocrat_party_long
						name = SER_YUG_royal_paternal_autocrat_party
					}
				}
				else = {
					set_party_name = {
						ideology = national_populist
						long_name = SER_royal_paternal_autocrat_party_long
						name = SER_royal_paternal_autocrat_party
					}
					set_party_name = {
						ideology = paternal_autocrat
						long_name = SER_royal_paternal_autocrat_party_long
						name = SER_royal_paternal_autocrat_party
					}
					set_party_name = {
						ideology = authoritarian_democrat
						long_name = SER_royal_paternal_autocrat_party_long
						name = SER_royal_paternal_autocrat_party
					}
				}
				set_temp_variable = { coalition_partner_var = token:national_populist }
				add_to_coalition = yes
				set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
				add_to_coalition = yes
			}
		}
	}
	BUL_Join_Reichspakt = {
		icon = eng_trade_unions_support

		allowed = { tag = BUL }

		available = {
			if = {
				limit = { has_government = national_populist }
				FROM = { has_authoritarian_government = yes }
			}
			if = {
				limit = { NOT = { has_government = authoritarian_democrat } }
				any_home_area_neighbor_country = {
					hidden_trigger = { is_in_faction = yes }
					faction_leader = { has_socialist_government = yes }
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_subject = no
			is_in_faction = no
			has_socialist_government = no
			NOT = { has_country_leader = { character = BUL_alexander_stamboliyski } }
			NOT = { has_completed_focus = BUL_hijack_yugoslavism }
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { GER }
		target_root_trigger = {
			OR = {
				has_completed_focus = BUL_international_alliances
				has_completed_focus = BUL_seek_factions_wk
			}
		}
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_GER } }
			}
			modifier = {
				factor = 0
				has_government = paternal_autocrat
				RUS = {
					OR = {
						is_monarchy = yes
						has_government = national_populist
					}
					is_subject = no
					is_faction_leader = yes
					NOT = { has_war_with = BUL }
				}
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_GER } }
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = BUL_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_GER } }
			}
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Join_Reichspakt"
			FROM = { ask_to_join_faction = yes }
		}
	}
	BUL_Join_Austria = {
		icon = eng_trade_unions_support

		allowed = { tag = BUL }

		available = {
			at_peace_or_same_enemies_as_FROM = yes
			if = {
				limit = { has_elected_government = yes }
				FROM = { has_elected_government = yes }
			}
		}

		visible = {
			is_subject = no
			is_in_faction = no
			OR = {
				FROM = {
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
				GER = {
					is_faction_leader = yes
					is_in_faction_with = FROM #wartime merge
					NOT = { has_war_with = ROOT }
				}
			}
			OR = {
				has_elected_government = yes
				has_government = paternal_autocrat
			}
			NOT = { has_completed_focus = BUL_hijack_yugoslavism }
		}

		targets = { AUS }
		target_root_trigger = {
			OR = {
				has_completed_focus = BUL_international_alliances
				has_completed_focus = BUL_seek_factions_wk
			}
		}
		target_trigger = {
			FROM = { is_subject = no }
			NOT = { has_war_with = FROM }
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_AUS } }
			}
			modifier = {
				factor = 0
				has_government = paternal_autocrat
				RUS = {
					OR = {
						is_monarchy = yes
						has_government = national_populist
					}
					is_subject = no
					is_faction_leader = yes
					NOT = { has_war_with = BUL }
				}
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_AUS } }
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = BUL_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_AUS } }
			}
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Join_Austria"
			FROM = { ask_to_join_faction = yes }
		}
	}
	BUL_Join_Russia = {
		icon = eng_trade_unions_support

		allowed = { tag = BUL }

		available = {
			if = {
				limit = { has_completed_focus = BUL_hijack_yugoslavism }
				has_completed_focus = BUL_YUG_hej_sloveni
			}
			if = {
				limit = { has_elected_government = yes }
				NOT = {
					FROM = {
						has_government = national_populist
					}
				}
			}
			else = {
				OR = {
					FROM = { is_monarchy = yes }
					FROM = { has_government = national_populist }
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			OR = {
				has_completed_focus = BUL_international_alliances
				has_completed_focus = BUL_seek_factions_wk
			}
			is_subject = no
			is_in_faction = no
			has_socialist_government = no
			NOT = {
				has_government = authoritarian_democrat
				has_country_leader = { character = BUL_alexander_stamboliyski }
			}
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { RUS }
		target_root_trigger = {
			OR = {
				has_completed_focus = BUL_international_alliances
				has_completed_focus = BUL_seek_factions_wk
			}
		}
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_RUS } }
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = BUL_forpol option = DEFAULT } }
				NOT = { has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_RUS } }
			}
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Join_Russia"
			FROM = { ask_to_join_faction = yes }
		}
	}
	BUL_Join_Internationale = {
		icon = eng_trade_unions_support

		allowed = { tag = BUL }

		available = {
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_subject = no
			is_in_faction = no
			has_socialist_government = yes
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		targets = { INT }
		target_root_trigger = {
			OR = {
				has_completed_focus = BUL_international_alliances
				has_completed_focus = BUL_seek_factions_wk
			}
		}
		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
				BUL_wk_war_trigger = no
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_BPL }
			}
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Join_Internationale"
			if = {
				limit = {
					RUS = {
						has_socialist_government = yes
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
					}
				}
				RUS = { ask_to_join_faction = yes }
			}
			else = {
				FROM = { ask_to_join_faction = yes }
			}
		}
	}
	BUL_Restore_Thrace = {
		icon = generic_ignite_civil_war
		allowed = { tag = BUL }

		available = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			OR = {
				is_neighbor_of = FROM
				FROM = { any_home_area_neighbor_country = { is_ally_with = ROOT } }
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			FROM = {
				owns_any_state_of = {
					184 #Komotini
					1089 #Kardzhali
				}
			}
		}

		cancel_trigger = {
			OR = {
				is_subject = yes
				AND = {
					is_in_faction = yes
					is_faction_leader = no
				}
				NOT = { can_declare_war_on = FROM }
				FROM = {
					NOT = {
						owns_any_state_of = {
							184 #Komotini
							1089 #Kardzhali
						}
					}
				}
			}
		}

		targets = { 184.OWNER 1089.OWNER }
		target_root_trigger = {
			has_completed_focus = BUL_seize_thrace
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				owns_any_state_of = {
					184 #Komotini
					1089 #Kardzhali
				}
			}
		}

		cost = 10
		days_remove = 25
		fire_only_once = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 10000
			modifier = {
				factor = 0
				OR = {
					country_is_in_dangerous_war = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel BUL_Restore_Thrace"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Restore_Thrace"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove BUL_Restore_Thrace"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = { FROM = { has_civil_war = yes } }
				every_country_with_original_tag = {
					original_tag_to_check = FROM
					limit = { has_war_with = FROM }
					ROOT = {
						declare_war_on = {
							target = FROM
							type = annex_everything
						}
					}
				}
			}
		}
	}
	BUL_Opportunistic_Strike = {
		icon = generic_ignite_civil_war

		allowed = { tag = BUL }

		available = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			OR = {
				is_neighbor_of = FROM
				FROM = { any_home_area_neighbor_country = { is_ally_with = ROOT } }
			}
			NOT = { has_non_aggression_pact_with = FROM }
		}

		visible = {
			is_subject = no
			OR = {
				has_completed_focus = BUL_opportunism
				has_completed_focus = BUL_international_alliances
			}
			can_declare_war_on = FROM
			FROM = {
				owns_any_state_of = {
					731 #Florina
					767 #Nish
					772 #Constantza
				}
			}
		}

		cancel_trigger = {
			OR = {
				is_subject = yes
				AND = {
					is_in_faction = yes
					is_faction_leader = no
				}
				NOT = { can_declare_war_on = FROM }
				FROM = {
					NOT = {
						owns_any_state_of = {
							77 #Silistria
							106 #Macedonia
							769 #Serres
						}
					}
				}
				hidden_trigger = {
					NOT = { has_completed_focus = BUL_opportunism }
					NOT = { has_completed_focus = BUL_international_alliances }
				}
			}
		}

		targets = { 77.OWNER 106.OWNER 769.OWNER }
		target_root_trigger = {
			OR = {
				has_completed_focus = BUL_opportunism
				has_completed_focus = BUL_international_alliances
			}
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				NOT = { tag = MAC }
				owns_any_state_of = {
					731 #Florina
					767 #Nish
					772 #Constantza
				}
			}
		}

		cost = 25
		days_remove = 25
		fire_only_once = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 10000
			modifier = {
				factor = 0
				OR = {
					country_is_in_dangerous_war = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger = yes }
				}
				BUL_wk_war_trigger = no
			}
			modifier = {
				factor = 0
				ROOT = { has_socialist_government = yes }
				FROM = { has_socialist_government = yes }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { owns_state = 106 } } #ai should go for Macedonia first
				OR = {
					NOT = { owns_state = 106 }
					NOT = { has_war_with = 106.owner }
				}
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_GER }
						OR = {
							NOT = { is_in_faction_with = GER }
							AND = {
								FROM = { tag = GRE }
								has_game_rule = { rule = GRE_forpol option = GRE_FORPOL_GER }
							}
						}
					}
					AND = {
						has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_AUS }
						OR = {
							NOT = { is_in_faction_with = AUS }
							AND = {
								FROM = { tag = GRE }
								has_game_rule = { rule = GRE_forpol option = GRE_FORPOL_AUS }
							}
						}
					}
					AND = {
						has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_RUS }
						OR = {
							NOT = { is_in_faction_with = RUS }
							AND = {
								FROM = { tag = GRE }
								has_game_rule = { rule = GRE_forpol option = GRE_FORPOL_RUS }
							}
						}
					}
					AND = {
						has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_BPL }
						OR = {
							NOT = { is_in_faction_with = BPL }
							AND = {
								FROM = { tag = GRE }
								OR = {
									has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_KEEP }
									has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_AUS_BEATEN }
									has_game_rule = { rule = BPL_dissolution option = BPL_DISSOLUTION_GRE_INT_BEATEN }
								}
							}
						}
					}
					AND = {
						has_game_rule = { rule = BUL_forpol option = BUL_FORPOL_INT }
						OR = {
							NOT = {
								AND = {
									is_in_faction = yes
									faction_leader = {
										has_socialist_government = yes
										is_actual_major = yes
									}
								}
							}
							AND = {
								FROM = { tag = GRE }
								OR = {
									has_game_rule = { rule = GRE_referendum option = GRE_REFERENDUM_SYNDIE }
									has_game_rule = { rule = GRE_referendum option = GRE_REFERENDUM_TOTALIST }
									has_game_rule = { rule = GRE_election option = GRE_ELECTION_RADSOC_SYNDIE }
								}
							}
							AND = {
								FROM = { tag = SER }
								has_game_rule = { rule = SER_path option = SER_PATH_RADSOC }
							}
						}
					}
				}
			}
			modifier = {
				factor = 0.02
				FROM = {
					is_in_faction_with = SER
					NOT = { has_war_with = AUS }
				}
				BUL_wk_war_trigger = no
			}
		}

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel BUL_Opportunistic_Strike"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Opportunistic_Strike"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove BUL_Opportunistic_Strike"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = { FROM = { has_civil_war = yes } }
				every_country_with_original_tag = {
					original_tag_to_check = FROM
					limit = { has_war_with = FROM }
					ROOT = {
						declare_war_on = {
							target = FROM
							type = annex_everything
						}
					}
				}
			}
			if = {
				limit = {
					country_exists = BPL
					BPL = {
						is_faction_leader = yes
						OR = {
							has_war = no
							has_war_with = BUL
						}
						check_variable = { enemies^num < 2 }
						NOT = { has_war_with = GRE }
					}
					GRE = {
						is_in_faction = no
						OR = {
							has_war = no
							has_war_with = BUL
						}
						check_variable = { enemies^num < 2 }
						NOT = { has_war_with = BPL }
					}
					OR = { #FROM is either GRE at peace/only at war with BUL or a member of the Belgrade Pact and GRE is at peace/only at war with BUL
						FROM = {
							original_tag = GRE
							has_war = no
							is_in_faction = no
							is_subject = no
						}
						FROM = {
							original_tag = SER
							has_war = no
							is_in_faction_with = ROM
							is_subject = no
						}
						FROM = {
							original_tag = ROM
							has_war = no
							is_in_faction_with = SER
							is_subject = no
						}
					}
				}
				custom_effect_tooltip = BUL_GRE_will_rejoin_belgrade_pact
			}
		}
	}
	BUL_Attack_Austria = {
		icon = eng_puppet_usa
		priority = 1000
		name = SER_Attack_Austria
		allowed = { tag = BUL }
		available = {
			if = {
				limit = { is_in_faction_with = RUS }
				RUS = { has_war_with = GER }
				OR = {
					is_in_faction_with = UKR
					NOT = { country_exists = UKR }
					UKR = { has_capitulated = yes }
				}
			}
			NOT = {
				is_in_faction_with = GER
			}
		}

		visible = {
			NOT = { owns_state = 109 } #Central Croatia
			is_subject = no
			can_declare_war_on = FROM
			FROM = { is_subject = no }
		}

		cancel_trigger = {
			OR = {
				is_subject = yes
				NOT = { can_declare_war_on = FROM }
			}
		}

		cost = 20
		days_remove = 25
		fire_only_once = yes
		war_with_target_on_remove = yes
		cancel_if_not_visible = yes

		targets = { AUS }
		target_root_trigger = { has_completed_focus = BUL_operation_march_drina }
		target_trigger = {
			can_declare_war_on = FROM
			FROM = { is_subject = no }
		}

		ai_will_do = {
			factor = 10000
			# don't do anything if already involved elsewhere
			modifier = {
				factor = 0
				alliance_strength_ratio < 1
			}
			# wait for AI ROM to prepare the revolt if Austria and its allies aren't losing and no other countries are waiting to help
			modifier = {
				factor = 0
				is_in_faction_with = ROM
				has_completed_focus = BUL_transylvanian_claims
				check_variable = { ROM.revolt < 4 }
				ROM = {
					is_ai = yes
					has_country_flag = ROM_funded_separatist
				}
				NOT = {
					AND = {
						POL = { has_country_flag = SER_will_attack_austria }
						SER = { has_country_flag = SER_will_attack_austria }
					}
					FROM = { surrender_progress > 0.10 }
					FROM = {
						is_in_faction = yes
						is_faction_leader = no
						faction_leader = { surrender_progress > 0.10 }
					}
				}
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				FROM = {
					OR = {
						AND = {
							strength_ratio = { tag = ROOT ratio > 1 }
							OR = {
								enemies_strength_ratio < 1
								surrender_progress < 0.1
							}
						}
						AND = {
							is_in_faction = yes
							is_faction_leader = no
							faction_leader = {
								strength_ratio = { tag = ROOT ratio > 0.8 }
								OR = {
									enemies_strength_ratio < 1
									surrender_progress < 0.1
								}
							}
						}
						AND = {
							is_subject = yes
							overlord = {
								strength_ratio = { tag = ROOT ratio > 0.8 }
								OR = {
									enemies_strength_ratio < 1
									surrender_progress < 0.1
								}
							}
						}
					}
				}
			}
		}

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel BUL_Attack_Austria"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Attack_Austria"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove BUL_Attack_Austria"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = {
					var:109.owner = {
						NOT = { is_ally_with = FROM }
					}
					can_declare_war_on = 109.owner
				}
				declare_war_on = {
					target = 109.owner
					type = annex_everything
				}
			}
			if = {
				limit = {
					FROM = { tag = AUS }
					can_declare_war_on = HUN
					HUN = { has_war_with = FROM }
				}
				declare_war_on = {
					target = HUN
					type = annex_everything
				}
			}
		}
	}
	BUL_Form_Yugoslavia = {
		icon = generic_flags
		priority = 200
		name = SER_Form_Yugoslavia
		allowed = { tag = BUL }
		available = {
			has_completed_focus = BUL_cessation_orchestra
			NOT = { country_exists = CRO }
			45 = { is_owned_by_ROOT_or_subject = yes } #Vojvodina
			102 = { is_owned_by_ROOT_or_subject = yes } #Carniola
			104 = { is_owned_by_ROOT_or_subject = yes } #Bosnia
			105 = { is_owned_by_ROOT_or_subject = yes } #Montenegro
			106 = { is_owned_by_ROOT_or_subject = yes } #Macedonia
			109 = { is_owned_by_ROOT_or_subject = yes } #Central Croatia
		}

		visible = {
			has_completed_focus = BUL_operation_march_drina
			is_subject = no
		}

		fire_only_once = yes

		ai_will_do = { factor = 50 }

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_Form_Yugoslavia"
			if = {
				limit = {
					OR = {
						has_country_leader = { character = BUL_ferdinand_sakskoburggotski }
						has_country_leader = { character = BUL_boris_sakskoburggotski }
					}
				}
				set_cosmetic_tag = BUL_YUG_mon
			}
			else = {
				set_cosmetic_tag = BUL_YUG
			}
			remove_ideas = BUL_the_dream_of_yugoslavia
			ROM = { remove_ideas = BUL_ROM_mission }
			add_ideas = BUL_imperfect_union_1
			news_event = bulfor.27
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = BUL_YUG_hej_sloveni
			hidden_effect = {
				country_event = { id = bulgariaflavour.17 days = 20 }
			}
		}
	}
	BUL_Invade_Ottomans = {
		icon = generic_ignite_civil_war
		allowed = { tag = BUL }

		available = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			OR = {
				is_neighbor_of = FROM
				FROM = { any_home_area_neighbor_country = { is_ally_with = ROOT } }
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			FROM = { owns_state = 341 } #Adrianople
		}

		cancel_trigger = {
			OR = {
				is_subject = yes
				AND = {
					is_in_faction = yes
					is_faction_leader = no
				}
				NOT = { can_declare_war_on = FROM }
				NOT = { FROM = { owns_state = 341 } } #Adrianople
			}
		}

		targets = { TUR }
		target_root_trigger = {
			has_completed_focus = BUL_YUG_attack_ottomans
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 25
		fire_only_once = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					country_is_in_dangerous_war = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel BUL_Invade_Ottomans"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_Invade_Ottomans"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove BUL_Invade_Ottomans"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			clear_decision_attack_AI = yes
		}
	}
	BUL_YUG_Subjugate_Balkan_States = {
		icon = hol_draw_up_staff_plans

		allowed = { tag = BUL }

		available = {
			OR = {
				is_neighbor_of = FROM
				FROM = { any_home_area_neighbor_country = { is_ally_with = ROOT } }
			}
			minor_faction_member_cannot_start_inter_faction_war_before_wk = yes
			if = {
				limit = {
					FROM = { is_in_faction_with = ENT } # If FROM is in Entente, can only invade after 2WK
					OR = {
						is_in_faction_with = AUS
						is_in_faction_with = GER
					}
				}
				has_global_flag = second_weltkrieg_has_ended
			}
		}

		visible = {
			can_declare_war_on = FROM
		}

		targets = { ROM ALB GRE HUN MNT }
		target_root_trigger = {
			OR = {
				has_completed_focus = BUL_YUG_balkan_neighbourhood
				has_completed_focus = BUL_construct_hegemony
			}
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 25
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					country_is_in_dangerous_war = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel BUL_YUG_Subjugate_Balkan_States"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_YUG_Subjugate_Balkan_States"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove BUL_YUG_Subjugate_Balkan_States"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = { FROM = { has_civil_war = yes } }
				every_country_with_original_tag = {
					original_tag_to_check = FROM
					limit = { has_war_with = FROM }
					ROOT = {
						declare_war_on = {
							target = FROM
							type = annex_everything
						}
					}
				}
			}
		}
	}
	BUL_Third_Bulgarian_Empire = {
		icon = GFX_decision_generic_speech
		allowed = { tag = BUL }
		visible = {
			has_country_leader = { character = BUL_ferdinand_sakskoburggotski }
			has_government = authoritarian_democrat
			has_war_with = TUR
			controls_state = 773 # Constantinople
			has_country_flag = BUL_byzantine_larp_timer # under 150 days have passed since start of the war
			OR = {
				NOT = {
					country_exists = SER
				}
				SER = {
					is_subject_of = BUL
				}
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_Third_Bulgarian_Empire"
			add_state_claim = 773
			add_state_claim = 341
			country_event = bulgariaflavour.12
			clr_country_flag = BUL_byzantine_larp_timer
			#set_country_flag = BUL_unlocked_bulzantium
			#mark_focus_tree_layout_dirty = yes
		}
	}
	BUL_Balkan_Union = {
		icon = GFX_decision_generic_nationalism
		allowed = { tag = BUL }
		available = {
			has_global_flag = balkan_war_ended
			country_exists = SER
			NOT = { has_subject = SER }
		}
		visible = {
			has_completed_focus = BUL_never_another_georgiev
			has_elected_government = yes
			is_in_faction = no
			NOT = { has_global_flag = germany_demands_end_to_balkan_war }
			NOT = { has_global_flag = austria_demands_end_to_balkan_war }
			NOT = { has_country_flag = BUL_balkan_peace_loss }
			NOT = { focus_progress = { focus = BUL_war_reparations_investment_fund progress > 0 } }
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_Balkan_Union"
			country_event = bulgariaflavour.15
			if = {
				limit = { has_idea = BUL_reparation_payments_from_serbia }
				remove_ideas = BUL_reparation_payments_from_serbia
			}
			if = {
				limit = { SER = { has_idea = SER_reparation_payments } }
				SER = { remove_ideas = SER_reparation_payments }
			}
			#set_country_flag = BUL_balkan_union
			#mark_focus_tree_layout_dirty = yes
		}
	}
}
BUL_chetniks_decisions = {
	BUL_chetnik_movement = {
		icon = generic_prepare_civil_war

		allowed = {
			always = no
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			NOT = { has_country_flag = BUL_chetnik_uprising }
		}

		selectable_mission = no
		is_good = yes
		days_mission_timeout = 45

		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout BUL_chetnik_movement"
			custom_effect_tooltip = BUL_chetnik_movement_tt
			BUL_move_chetnik_state = yes
			if = {
				limit = {
					BUL_chetnik_victory = yes
				}
				add_to_variable = { BUL_chetnik_strength = 1 }
			}
			else = {
				add_to_variable = { BUL_chetnik_strength = -1 }
			}
			if = {
				limit = {
					check_variable = { BUL_chetnik_strength > 1 }
					check_variable = { BUL_chetnik_strength < 10 }
				}
				activate_mission = BUL_chetnik_movement
			}
			else_if = {
				limit = {
					check_variable = { BUL_chetnik_strength = 10 }
				}
				country_event = bulgaria.57
			}
			else = {
				country_event = bulgaria.58
			}
			hidden_effect = {
				country_event = bulgaria.56
			}
		}
	}
}

BUL_anti_ITRO_decisions = {
	BUL_ITRO_issue_formal_protest = {
		icon = GFX_decision_eng_trade_unions_support
		priority = 6

		available = {
			NOT = { has_war_with = FROM }
		}

		cancel_trigger = {
			OR = {
				has_global_flag = BUL_ITRO_diplomatic_protest
				has_war_with = FROM
			}
		}

		cost = 25
		days_remove = 10
		fire_only_once = yes

		ai_will_do = { factor = 1000 }

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel BUL_ITRO_issue_formal_protest"
			clr_country_flag = BUL_protesting_itro
			hidden_effect = { add_political_power = 25 }
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_ITRO_issue_formal_protest"
			set_country_flag = BUL_protesting_itro
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove BUL_ITRO_issue_formal_protest"
			clr_country_flag = BUL_protesting_itro
			FROM = { country_event = bulgariaflavour.35 }
		}
	}
	BUL_ITRO_raid_bulgarian_villages = {
		icon = GFX_decision_generic_scorched_earth
		priority = 5

		custom_cost_text = 250_guns
		custom_cost_trigger = {
			NOT = { has_equipment = { infantry_equipment < 250 } }
		}

		days_remove = 15
		fire_only_once = yes
		fixed_random_seed = no

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 500 }
			}
			modifier = {
				factor = 0
				has_stability < 0.5
			}
		}

		cancel_effect = {
			log = "[GetLogRoot]: Decision cancel BUL_ITRO_raid_bulgarian_villages"
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 250
				}
			}
		}

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_ITRO_raid_bulgarian_villages"
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -250
				}
			}
		}

		remove_effect = {
			log = "[GetLogRoot]: Decision remove BUL_ITRO_raid_bulgarian_villages"
			random_list = {
				65 = {
					every_owned_state = {
						limit = { has_dynamic_modifier = { modifier = BUL_ITRO_modifier } }
						BUL_decrease_ITRO_strength = yes
					}
				}
				25 = {
					add_stability = -0.06
					add_days_mission_timeout = {
						mission = BUL_ITRO_timeout_decrease
						days = -100
					}
				}
				15 = {
					add_stability = -0.09
				}
			}
			if = {
				limit = { tag = OTT }
				custom_effect_tooltip = tooltip_white_line
				184 = { #Western Thrace
					if = {
						limit = { is_owned_by = ROOT }
						ott_increase_revolt_risk = yes
					}
				}
				1089 = { #Kardzhali
					if = {
						limit = { is_owned_by = ROOT }
						ott_increase_revolt_risk = yes
					}
				}
			}
		}
	}
	BUL_ITRO_hunt_down_madzharov = {
		icon = GFX_decision_generic_assassination
		priority = 4

		available = {
			184 = { controller = { is_ally_with = ROOT } }
		}

		cancel_trigger = {
			OR = {
				hidden_trigger = { has_global_flag = BUL_ITRO_madzharov_gone }
				NOT = { 184 = { controller = { is_ally_with = ROOT } } }
			}
		}

		fire_only_once = yes
		custom_cost_text = CP_60_300_guns
		custom_cost_trigger = {
			NOT = { command_power < 60 }
			NOT = { has_equipment = { infantry_equipment < 300 } }
		}

		days_remove = 30
		fixed_random_seed = no

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 600 }
			}
		}

		cancel_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision cancel BUL_ITRO_hunt_down_madzharov"
			clr_country_flag = BUL_hunting_down_madzharov
			hidden_effect = {
				add_command_power = 60
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 300
				}
				if = {
					limit = { has_global_flag = BUL_ITRO_madzharov_gone }
					remove_targeted_decision = { decision = BUL_ITRO_hunt_down_madzharov target = FROM }
				}
			}
		}

		complete_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision complete BUL_ITRO_hunt_down_madzharov"
			set_country_flag = BUL_hunting_down_madzharov
			hidden_effect = {
				add_command_power = -60
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -300
				}
			}
		}

		remove_effect = {
			log = "[GetLogRoot][GetLogFrom]: Decision remove BUL_ITRO_hunt_down_madzharov"
			clr_country_flag = BUL_hunting_down_madzharov
			if = {
				limit = { is_ai = no }
				random_list = {
					90 = {
						modifier = {
							add = -20
							divisions_in_state = { size > 0 state = 184 }
						}
						modifier = {
							add = -20
							divisions_in_state = { size > 1 state = 184 }
						}
						modifier = {
							add = -25
							divisions_in_state = { size > 2 state = 184 }
						}
						modifier = {
							add = 25
							divisions_in_state = { size > 3 state = 184 }
						}
						modifier = {
							add = 40
							divisions_in_state = { size > 4 state = 184 }
						}
						event_option_tooltip = bulgariaflavour.37.a
						hidden_effect = { country_event = bulgariaflavour.37 }
					}
					10 = {
						modifier = {
							add = 20
							divisions_in_state = { size > 0 state = 184 }
						}
						modifier = {
							add = 15
							divisions_in_state = { size > 1 state = 184 }
						}
						modifier = {
							add = 10
							divisions_in_state = { size > 2 state = 184 }
						}
						modifier = {
							add = -10
							divisions_in_state = { size > 3 state = 184 }
						}
						modifier = {
							add = -35
							divisions_in_state = { size > 4 state = 184 }
						}
						event_option_tooltip = bulgariaflavour.38.a
						hidden_effect = { country_event = bulgariaflavour.38 }
					}
					0 = {
						modifier = {
							add = 5
							divisions_in_state = { size > 1 state = 184 }
						}
						modifier = {
							add = 15
							divisions_in_state = { size > 2 state = 184 }
						}
						modifier = {
							add = -15
							divisions_in_state = { size > 3 state = 184 }
						}
						modifier = {
							add = -5
							divisions_in_state = { size > 4 state = 184 }
						}
						event_option_tooltip = bulgariaflavour.39.a
						hidden_effect = { country_event = bulgariaflavour.39 }
					}
				}
			}
			else = {
				random_list = {
					50 = {
						event_option_tooltip = bulgariaflavour.37.a
						hidden_effect = { country_event = bulgariaflavour.37 }
					}
					45 = {
						event_option_tooltip = bulgariaflavour.38.a
						hidden_effect = { country_event = bulgariaflavour.38 }
					}
					5 = {
						event_option_tooltip = bulgariaflavour.39.a
						hidden_effect = { country_event = bulgariaflavour.39 }
					}
				}
			}
		}
	}
	BUL_ITRO_organised_counterinsurgency = {
		icon = GFX_decision_generic_prepare_civil_war
		priority = 3

		custom_cost_text = 700_guns
		custom_cost_trigger = {
			NOT = { has_equipment = { infantry_equipment < 700 } }
		}

		days_remove = 50

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 1400 }
			}
		}

		cancel_effect = {
			log = "[GetLogRoot]: Decision cancel BUL_ITRO_organised_counterinsurgency"
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 700
				}
			}
		}

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_ITRO_organised_counterinsurgency"
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -700
				}
			}
		}

		remove_effect = {
			log = "[GetLogRoot]: Decision remove BUL_ITRO_organised_counterinsurgency"
			every_owned_state = {
				limit = { has_dynamic_modifier = { modifier = BUL_ITRO_modifier } }
				BUL_decrease_ITRO_strength = yes
			}
		}
	}
	BUL_ITRO_reestabilish_control_of_border_areas = {
		icon = GFX_decision_POL_looming_peasants_strike
		priority = 2

		ai_hint_pp_cost = 40
		custom_cost_text = CP_40_PP_40
		custom_cost_trigger = {
			NOT = { command_power < 40 }
			NOT = { has_political_power < 40 }
		}

		days_remove = 50

		ai_will_do = { factor = 1000 }

		cancel_effect = {
			log = "[GetLogRoot]: Decision cancel BUL_ITRO_reestabilish_control_of_border_areas"
			hidden_effect = {
				add_command_power = 40
				add_political_power = 40
			}
		}

		complete_effect = {
			log = "[GetLogRoot]: Decision complete BUL_ITRO_reestabilish_control_of_border_areas"
			hidden_effect = {
				add_command_power = -40
				add_political_power = -40
			}
		}

		remove_effect = {
			log = "[GetLogRoot]: Decision remove BUL_ITRO_reestabilish_control_of_border_areas"
			every_owned_state = {
				limit = { has_dynamic_modifier = { modifier = BUL_ITRO_modifier } }
				BUL_decrease_ITRO_strength = yes
			}
		}
	}
	BUL_ITRO_timeout_decrease = {
		icon = generic_prepare_civil_war

		available = {
			custom_override_tooltip = {
				tooltip = BUL_ITRO_active_in_country_tt
				always = no #actual removal handled by BUL_change_ITRO_strength
			}
		}

		is_good = yes
		selectable_mission = no
		days_mission_timeout = 400

		timeout_effect = {
			log = "[GetLogRoot]: Decision timeout BUL_ITRO_timeout_decrease"
			every_owned_state = {
				limit = { has_dynamic_modifier = { modifier = BUL_ITRO_modifier }}
				BUL_decrease_ITRO_strength = yes
			}
			hidden_effect = {
				if = {
					limit = {
						any_of_scopes = {
							array = global.BUL_ITRO_states
							is_owned_by = ROOT
							OR = {
								is_claimed_by = ROOT
								is_core_of = ROOT
								has_variable = can_integrate_@ROOT
							}
							check_variable = { BUL_ITRO_strength_in_state > 2 }
						}
					}
					activate_mission = BUL_ITRO_timeout_decrease
				}
			}
		}
	}
}
