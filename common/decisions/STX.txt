STX_second_red_river_war_dcat = {
    STX_rrw_is_imminent = {
        icon = GFX_
        available = {
            hidden_trigger = {
                always = no
            }
        }
        activation = {
            has_global_flag = RRW_imminent
        }
        visible = {
            tag = STX
            has_global_flag = RRW_imminent
            NOT = {
                OR = {
                    has_war_with = SOK
                    has_war_with = SLA
                }
            }
        }
        cancel_if_not_visible = yes
        is_good = no                    ###Very very bad
        days_mission_timeout = 100
        fire_only_once = yes
        war_with_on_timeout = SOK
        war_with_on_timeout = SLA
        timeout_effect = {
            ###It's handled by events, this is just to that the ai moves their troops
        }
    }
}
STX_deal_with_the_texas_rangers = {
    STX_relax_regulations = {
        icon = GFX_
        available = {
            NOT = {
                has_idea = STX_very_powerful_texas_rangers
            }
        }
        visible = {
            NOT = {
                has_idea = STX_very_powerful_texas_rangers
            }
            tag = STX
        }
        cost = 50
        days_re_enable = 100
        ai_will_do = {
            base = 10
            modifier = {
                factor = 3
                has_idea = STX_very_weak_texas_rangers
            }
            modifier = {
                factor = 2
                has_idea = STX_weak_texas_rangers
            }
            modifier = {
                factor = 0.5
                has_idea = STX_powerful_texas_rangers
            }
            modifier = {
                factor = 0
                has_game_rule = { rule = STX_RANGERS_PATH option = STX_RANGERS_WEAK }
            }
            modifier = {
                factor = 50
                has_game_rule = { rule = STX_RANGERS_PATH option = STX_RANGERS_POWERFUL }
            }
        }
        fire_only_once = no
        cancel_if_not_visible = yes
        complete_effect = {
            increase_texas_ranger_level = yes
        }
    }
    STX_tighten_regulations = {
        icon = GFX_
        available = {
            NOT = {
                has_idea = STX_very_weak_texas_rangers
            }
        }
        visible = {
            NOT = {
                has_idea = STX_very_weak_texas_rangers
            }
            tag = STX
        }
        cost = 50
        days_re_enable = 100
        ai_will_do = {
            base = 10
            modifier = {
                factor = 3
                has_idea = STX_very_powerful_texas_rangers
            }
            modifier = {
                factor = 2
                has_idea = STX_powerful_texas_rangers
            }
            modifier = {
                factor = 0.5
                has_idea = STX_weak_texas_rangers
            }
            modifier = {
                factor = 0
                has_game_rule = { rule = STX_RANGERS_PATH option = STX_RANGERS_POWERFUL }
            }
            modifier = {
                factor = 50
                has_game_rule = { rule = STX_RANGERS_PATH option = STX_RANGERS_WEAK }
            }
        }
        fire_only_once = no
        cancel_if_not_visible = yes
        complete_effect = {
            decrease_texas_ranger_level = yes
        }
    }
}
STX_third_red_river_war_dcat = {
    STX_begin_the_third_red_river_war = {
        icon = GFX_
        available = {
            NOT = {
                has_country_flag = STX_preparing_for_rrw3
            }
            country_exists = SLA
        }
        visible = {
            always = yes
        }
        cost = 0
        days_remove = 35
        fire_only_once = yes
        war_with_on_remove = SLA
        war_with_on_remove = SOK
        ai_will_do = {
            base = 10
            modifier = {
                factor = 10
                strength_ratio = {
                    tag = SLA
                    ratio > 1
                }
            }
            modifier = {
                factor = 2
                strength_ratio = {
                    tag = SLA
                    ratio > 1.5
                }
            }
            modifier = {
                factor = 2
                strength_ratio = {
                    tag = SLA
                    ratio > 2
                }
            }
        }
        remove_effect = {
            declare_war_on = {
                target = SLA
                type = annex_everything
            }
            if = {
                limit = {
                    country_exists = SOK
                }
                declare_war_on = {
                    target = SOK
                    type = annex_everything
                }
            }
            hidden_effect = {
                set_country_flag = STX_rrw3_start
            }
            add_equipment_to_stockpile = {      #haha losers look down below, love you <3
                type = infantry_equipment
                amount = 6000                 
            }
            if = {
                limit = {
                    check_variable = { ORL_support > 0 }
                    SLA = {
                        owns_state = 18
                    }
                }
                SLA = {
                    release = ORL
                    declare_war_on = {
                        target = ORL
                        type = annex_everything
                    }
                }
                ORL = {
                    division_template = {
                        name = "Infantry"
                        regiments = {
                            infantry = { x = 0 y = 0 }
                            infantry = { x = 0 y = 1 }
                            infantry = { x = 0 y = 2 }
                            infantry = { x = 1 y = 0 }
                            infantry = { x = 1 y = 1 }
                            infantry = { x = 1 y = 2 }
                        }
                    }
                    # HEY FIX THIS
                    #18 = {
                    #    create_unit = {
                    #        division = infantry
                    #        name = "Infantry Division" 
                    #        division_template = "Infantry" 
                    #        start_experience_factor = 0.1 
                    #        start_equipment_factor = 0.8
                    #    }
                    #    create_unit = {
                    #        division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                    #    }
                    #}
                }
                if = {
                    limit = {
                        check_variable = { ORL_support > 25 }
                    }
                    STX = {
                        add_to_faction = ORL
                    }
                    #FIX THIS
                    #ORL = {
                    #    18 = {
                    #        create_unit = {
                    #            division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                    #        }
                    #        create_unit = {
                    #            division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                    #        }
                    #    }
                    #}
                    if = {
                        limit = {
                            check_variable = { ORL_support > 49 }
                        }
                        STX = {
                            puppet = ORL
                        }
                       # ORL = {
                       #     18 = {
                       #         create_unit = {
                       #             division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                       #         }
                       #         create_unit = {
                       #             division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                       #         }
                       #     }
                       # }
                        if = {
                            limit = {
                                check_variable = { ORL_support > 79 }
                            }
                            #ORL = {        #FIX!!!!
                            #    18 = {
                            #        create_unit = {
                            #            division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                            #        }
                            #        create_unit = {
                            #            division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                            #        }
                            #    }
                            #}
                            if = {
                                limit = {
                                    check_variable = { ORL_support > 99 }
                                }
                               #ORL = {
                               #    18 = {
                               #        create_unit = {
                               #            division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                               #        }
                               #        create_unit = {
                               #            division = "name = \"Infantry Division\" division_template = \"Infantry\" start_experience_factor = 0.1 start_equipment_factor = 0.8"
                               #        }
                               #    }
                               #}
                            }
                        }
                    }
                }
            }
        }
    }
    STX_recruit_new_orleans = {
        icon = GFX_
        available = {
            NOT = {
                country_exists = ORL
            }
        }
        visible = {
            always = yes
        }
        cost = 10
        fire_only_once = yes
        ai_will_do = {
            factor = 50
        }
        complete_effect = {
            hidden_effect = {
                set_country_flag = STX_getting_ORL_support
                set_variable = { ORL_support = 0 }
            }
            unlock_decision_tooltip = STX_meet_with_walmsley
            unlock_decision_tooltip = STX_send_guns_to_new_orleans
            unlock_decision_tooltip = STX_pro_texan_propoganda_in_new_oreleans
        }
    }
    STX_meet_with_walmsley = {
        icon = GFX_
        available = {
            NOT = {
                has_country_flag = STX_preparing_for_rrw3
            }
            custom_trigger_tooltip = {
                tooltip = NOT_100_support_tt
                check_variable = { ORL_support < 100 }
            }
        }
        visible = {
            hidden_trigger = {
                has_country_flag = STX_getting_ORL_support
            }
        }
        cost = 10
        fire_only_once = yes
        days_remove = 10
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            set_country_flag = STX_preparing_for_rrw3
        }
        remove_effect = {
            custom_effect_tooltip = STX_add_10_support_ORL
            add_to_variable = { ORL_support = 10 }
            clr_country_flag = STX_preparing_for_rrw3
        }
    }
    STX_send_guns_to_new_orleans = {
        icon = GFX_
        available = {
            NOT = {
                has_country_flag = STX_preparing_for_rrw3
            }
            custom_trigger_tooltip = {
                tooltip = NOT_100_support_tt
                check_variable = { ORL_support < 100 }
            }
            has_equipment = {
                infantry_equipment > 499
            }
        }
        visible = {
            hidden_trigger = {
                has_country_flag = STX_getting_ORL_support
            }
        }
        cost = 10
        fire_only_once = no
        days_remove = 10
        ai_will_do = {
            factor = 10
        }
        complete_effect = {
            set_country_flag = STX_preparing_for_rrw3
            add_equipment_to_stockpile = {
                type = infantry_equipment
                amount = -500
            }
        }
        remove_effect = {
            custom_effect_tooltip = STX_add_10_support_ORL
            add_to_variable = { ORL_support = 10 }
            clr_country_flag = STX_preparing_for_rrw3
        }
    }
    STX_pro_texan_propoganda_in_new_oreleans = {
        icon = GFX_
        available = {
            NOT = {
                has_country_flag = STX_preparing_for_rrw3
            }
            custom_trigger_tooltip = {
                tooltip = NOT_100_support_tt
                check_variable = { ORL_support < 100 }
            }
        }
        visible = {
            hidden_trigger = {
                has_country_flag = STX_getting_ORL_support
            }
        }
        cost = 50
        fire_only_once = no
        days_remove = 15
        ai_will_do = {
            factor = 10
        }
        complete_effect = {
            set_country_flag = STX_preparing_for_rrw3
        }
        remove_effect = {
            custom_effect_tooltip = STX_add_10_support_ORL
            add_to_variable = { ORL_support = 10 }
            clr_country_flag = STX_preparing_for_rrw3
        }
    }
}
STX_unite_the_klans_dcat = {
    STX_integrate_the_louisian_klan = {
        icon = GFX_
        available = {
            controls_louisiana_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_louisiana = yes
        }
    }
    STX_integreate_the_oklahoma_klan = {
        icon = GFX_
        available = {
            controls_oklahoma_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_oklahoma = yes
        }
    }
    STX_integrate_the_arkansas_klan = {
        icon = GFX_
        available = {
            controls_arkansas_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_arkansas = yes
        }
    }
    STX_integrate_the_mississippi_klan = {
        icon = GFX_
        available = {
            controls_mississippi_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_mississippi = yes
        }
    }
    STX_integrate_the_alabaman_klan = {
        icon = GFX_
        available = {
            controls_alabama_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_alabama = yes
        }
    }
    STX_integreate_the_georgian_klan = {
        icon = GFX_
        available = {
            controls_georgia_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_georgia = yes
        }
    }
    STX_integrate_the_tennesse_klan = {
        icon = GFX_
        available = {
            controls_tennessee_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_tennessee = yes
        }
    }
    STX_integrate_the_south_carolina_klan = {
        icon = GFX_
        available = {
            controls_south_carolina_trigger = yes
        }
        visible = {
            has_completed_focus = STX_unite_the_klans
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_south_carolina = yes
        }
    }
    STX_unite_the_south_under_klan_rule = {
        icon = GFX_
        available = {
            controls_south_carolina_trigger = yes
            controls_tennessee_trigger = yes
            controls_mississippi_trigger = yes
            controls_arkansas_trigger = yes
            controls_alabama_trigger = yes
            controls_georgia_trigger = yes
        }
        visible = {
            controls_south_carolina_trigger = yes
            controls_tennessee_trigger = yes
            controls_mississippi_trigger = yes
            controls_arkansas_trigger = yes
            controls_alabama_trigger = yes
            controls_georgia_trigger = yes
        }
        cost = 50
        fire_only_once = yes
        complete_effect = {
            set_cosmetic_tag = STX_UNITED_KLANS
            unlock_decision_tooltip = STX_unite_the_florida_klan
            unlock_decision_tooltip = STX_unite_the_north_carolina_klan
        }
    }
    STX_unite_the_florida_klan = {
        icon = GFX_
        available = {
            country_exists = SFL
        }
        visible = {
            has_cosmetic_tag = STX_UNITED_KLANS
        }
        cost = 50
        fire_only_once = yes
        ai_will_do = {
            factor = 20
        }
        war_with_on_remove = SFL
        complete_effect = {
            declare_war_on = {
                target = SFL
                type = annex_everything
            }
        }
    }
    STX_integrate_the_florida_klan = {
        icon = GFX_
        available = {
            controls_florida_trigger = yes
        }
        visible = {
            controls_florida_trigger = yes
            has_cosmetic_tag = STX_UNITED_KLANS
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_florida = yes
        }
    }
    STX_unite_the_north_carolina_klan = {
        icon = GFX_
        
        available = {
            country_exists = SNC
        }
        visible = {
            controls_north_carolina_trigger = yes
            has_cosmetic_tag = STX_UNITED_KLANS
        }
        cost = 50
        fire_only_once = yes
        ai_will_do = {
            factor = 20
        }
        war_with_on_remove = SNC
        complete_effect = {
            declare_war_on = {
                target = SNC
                type = annex_everything
            }
        }
    }
    STX_integrate_the_north_carolina_klan = {
        icon = GFX_
        available = {
            controls_north_carolina_trigger = yes
        }
        visible = {
            controls_north_carolina_trigger = yes
            has_cosmetic_tag = STX_UNITED_KLANS
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 50
        }
        remove_effect = {
            core_north_carolina = yes
        }
    }
}
STX_social_reform = {
    STX_combat_the_crimewave = {
        icon = GFX_
        available = {
            has_completed_focus = STX_broaden_social_programs
            has_idea = STX_crimewave
        }
        visible = {
            tag = STX
            has_completed_focus = STX_broaden_social_programs
        }
        cost = 25
        fire_only_once = yes
        days_remove = 35
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            swap_ideas = {
                add_idea = STX_crimewave2 
                remove_idea = STX_crimewave
            }
        }
    }
    STX_state_pensions = {
        icon = GFX_
        available = {
            has_completed_focus = STX_broaden_social_programs
        }
        visible = {
            tag = STX
            has_completed_focus = STX_broaden_social_programs
        }
        cost = 25
        fire_only_once = yes
        days_remove = 35
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            add_stability = 0.05
        }
    }
    STX_restrict_lobbying = {
        icon = GFX_
        available = {
            has_completed_focus = STX_broaden_social_programs
        }
        visible = {
            tag = STX
            has_completed_focus = STX_broaden_social_programs
        }
        cost = 25
        fire_only_once = yes
        days_remove = 35
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            add_stability = 0.05
            add_political_power = 15
        }
    }
    STX_fight_against_corruption = {
        icon = GFX_
        available = {
            has_completed_focus = STX_continue_social_programs
            has_idea = STX_crimewave2
        }
        visible = {
            tag = STX
            has_completed_focus = STX_continue_social_programs
        }
        cost = 25
        fire_only_once = yes
        days_remove = 35
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            remove_ideas = STX_crimewave2
        }
    }
    STX_interstate_oil_compact_commission = {
        icon = GFX_
        available = {
            has_completed_focus = STX_continue_social_programs
        }
        visible = {
            tag = STX
            has_completed_focus = STX_continue_social_programs
        }
        cost = 50
        fire_only_once = yes
        days_remove = 35
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            #random_owned_controlled_state = {
            #    add_resource = {
            #        type = oil
            #        amount = 48
            #        state = THIS
            #    }
            #}
        }
    }
    STX_bust_the_trusts = {
        icon = GFX_
        available = {
            has_completed_focus = STX_continue_social_programs
        }
        visible = {
            tag = STX
            has_completed_focus = STX_continue_social_programs
        }
        cost = 50
        fire_only_once = yes
        days_remove = 35
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
            add_stability = 0.05
        }
    }
    STX_regulate_public_utility_rates = {
        icon = GFX_
        available = {
            has_completed_focus = STX_continue_social_programs
        }
        visible = {
            tag = STX
            has_completed_focus = STX_continue_social_programs
        }
        cost = 50
        fire_only_once = yes
        days_remove = 35
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            add_stability = 0.07
        }
    }
    STX_create_the_department_of_public_safety = {
        icon = GFX_
        available = {
            has_completed_focus = STX_finalize_social_programs
        }
        visible = {
            tag = STX
            has_completed_focus = STX_finalize_social_programs
        }
        cost = 75
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 20
        }
        remove_effect = {
            add_stability = 0.1
            add_war_support = 0.05
        }
    }
    STX_found_allred_college = {
        icon = GFX_
        available = {
            has_completed_focus = STX_finalize_social_programs
            num_of_civilian_factories_available_for_projects > 2
        }
        visible = {
            tag = STX
            has_completed_focus = STX_finalize_social_programs
        }
        cost = 50
        fire_only_once = yes
        days_remove = 70
        ai_will_do = {
            factor = 20
        }
        modifier = {
            civilian_factory_use = 3
        }
        remove_effect = {
            add_ideas = STX_allred_college
        }
    }
    STX_create_a_national_highway = {
        icon = GFX_
        available = {
            has_completed_focus = STX_finalize_social_programs
            num_of_civilian_factories_available_for_projects > 7
        }
        visible = {
            tag = STX
            has_completed_focus = STX_finalize_social_programs
        }
        cost = 50
        fire_only_once = yes
        days_remove = 180
        ai_will_do = {
            factor = 20
        }
        modifier = {
            civilian_factory_use = 8
        }
        remove_effect = {
            every_owned_state = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
}
STX_development_bank_of_texas_dcat = {
    STX_fund_the_construction_of_a_civilian_factory = {
        icon = GFX_
        available = {
            custom_trigger_tooltip = {
                tooltip = STX_at_least_5_currency_available_to_spend_tt
                check_variable = {
                    var = STX_money
                    value = 5
                    compare = greater_than_or_equals
                }
            }
        }
        visible = {
            tag = STX
            has_completed_focus = STX_development_bank_of_texas
        }
        cost = 0
        fire_only_once = no
        days_remove = 90
        ai_will_do = {
            base = 50
            modifier = {
                factor = 0
                NOT = {
                    has_completed_focus = STX_subsidize_new_construction_equipment
                }
            }
        }
        complete_effect = {
            custom_effect_tooltip = STX_spend_5_development_money_tt
            add_to_variable = { STX_money = -5 }
        }
        remove_effect = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    STX_fund_the_construction_of_a_military_factory = {
        icon = GFX_
        available = {
            custom_trigger_tooltip = {
                tooltip = STX_at_least_5_currency_available_to_spend_tt
                check_variable = {
                    var = STX_money
                    value = 5
                    compare = greater_than_or_equals
                }
            }
        }
        visible = {
            tag = STX
            has_completed_focus = STX_development_bank_of_texas
        }
        cost = 0
        fire_only_once = no
        days_remove = 90
        ai_will_do = {
            base = 50
            modifier = {
                factor = 0
                NOT = {
                    has_completed_focus = STX_subsidize_new_construction_equipment
                }
            }
        }
        complete_effect = {
            custom_effect_tooltip = STX_spend_5_development_money_tt
            add_to_variable = { STX_money = -5 }
        }
        remove_effect = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    STX_fund_the_construction_of_a_dockyard = {
        icon = GFX_
        available = {
            custom_trigger_tooltip = {
                tooltip = STX_at_least_5_currency_available_to_spend_tt
                check_variable = {
                    var = STX_money
                    value = 5
                    compare = greater_than_or_equals
                }
            }
            any_owned_state = {
                is_controlled_by = STX
                is_coastal = yes
            }
        }
        visible = {
            tag = STX
            has_completed_focus = STX_development_bank_of_texas
        }
        cost = 0
        fire_only_once = no
        days_remove = 90
        ai_will_do = {
            base = 50
            modifier = {
                factor = 0
                NOT = {
                    has_completed_focus = STX_subsidize_new_construction_equipment
                }
            }
        }
        complete_effect = {
            custom_effect_tooltip = STX_spend_5_development_money_tt
            add_to_variable = { STX_money = -5 }
        }
        remove_effect = {
            random_owned_controlled_state = {
                limit = {
                    is_coastal = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    STX_fund_the_construction_of_roads = {
        icon = GFX_
        available = {
            custom_trigger_tooltip = {
                tooltip = STX_at_least_5_currency_available_to_spend_tt
                check_variable = {
                    var = STX_money
                    value = 5
                    compare = greater_than_or_equals
                }
            }
            any_owned_state = {
                infrastructure < 9
            }
        }
        visible = {
            tag = STX
            has_completed_focus = STX_expand_public_infrastructure
        }
        cost = 0
        fire_only_once = no
        days_remove = 90
        ai_will_do = {
            base = 50
            modifier = {
                factor = 0
                NOT = {
                    has_completed_focus = STX_subsidize_new_construction_equipment
                }
            }
        }
        complete_effect = {
            custom_effect_tooltip = STX_spend_5_development_money_tt
            add_to_variable = { STX_money = -5 }
        }
        remove_effect = {
            random_owned_controlled_state = {
                limit = {
                    infrastructure < 9
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
}
STX_Ranger_Client_States_dcat = {
    STX_Rio_Grande_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = own_tamaulipas_tt
                controls_state = 559
                controls_state = 589
                controls_state = 591
                controls_state = 592
            }
            custom_trigger_tooltip = {
                tooltip = own_coahuila_tt
                controls_state = 218
                controls_state = 601
                controls_state = 602
            }
            custom_trigger_tooltip = {
                tooltip = own_nuevo_leon_tt
                controls_state = 561
                controls_state = 588
                controls_state = 590
            }
            custom_trigger_tooltip = {
                tooltip = own_chihuahua_tt
                controls_state = 216
                controls_state = 562
                controls_state = 599
                controls_state = 600
                controls_state = 784
            }
        }
        visible = {
            has_completed_focus = STX_remember_the_alamo
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            MCH = {
                remove_state_core = 216
                remove_state_core = 562
                remove_state_core = 599
                remove_state_core = 600
                remove_state_core = 784
            }
            MCO = {
                transfer_state = 216
                transfer_state = 218
                transfer_state = 600
                transfer_state = 601
                transfer_state = 602
                transfer_state = 561
                transfer_state = 588
                transfer_state = 590
                transfer_state = 559
                transfer_state = 589
                transfer_state = 591
                transfer_state = 592
                transfer_state = 599
                transfer_state = 784
                set_cosmetic_tag = MCO_rangerclient
                core_tamaulipas = yes
                core_nuevo_leon = yes
                core_chihuahua = yes
            }
            MNL = {
                remove_state_core = 561
                remove_state_core = 588
                remove_state_core = 590
            }
            MTA = {
                remove_state_core = 559
                remove_state_core = 589
                remove_state_core = 591
                remove_state_core = 592
            }
            set_autonomy = { target = MCO autonomy_state = autonomy_puppet }
        }
    }
    STX_Kansas_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_kansas_tt
                controls_kansas_trigger = yes
            }
        }
        visible = {
            has_completed_focus = STX_finish_the_job
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SMO = {
                transfer_state = 831
            }
            SKS = {
                transfer_state = 286
                transfer_state = 372
                transfer_state = 373
                remove_state_core = 682
                set_cosmetic_tag = SKS_rangerclient
            }
            set_autonomy = { target = SKS autonomy_state = autonomy_colony }
        }
        #add_opinion_modifier = {
        #    target = SMO
        #    modifier = STX_recognized_our_claims
        #}
    }
    STX_Colorado_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_colorado_tt
                controls_colorado_trigger = yes
            }
        }
        visible = {
            has_completed_focus = STX_finish_the_job
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SCO = {
                transfer_state = 317
                transfer_state = 318
                transfer_state = 748
                remove_state_core = 316
                set_cosmetic_tag = SCO_rangerclient
            }
            set_autonomy = { target = SCO autonomy_state = autonomy_colony }
        }
    }
    STX_Greater_Arizona_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_arizona_tt
                controls_arizona_trigger = yes
            }
            custom_trigger_tooltip = {
                tooltip = controls_new_mexico_tt
                controls_new_mexico_trigger = yes
            }
            custom_trigger_tooltip = {
                tooltip = own_sonora_tt
                controls_sonora = yes
            }
            MCO = {
                is_subject = yes
            }
        }
        visible = {
            has_completed_focus = STX_road_to_california
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SAZ = {
                transfer_state = 50
                transfer_state = 76
                transfer_state = 77
                transfer_state = 80
                transfer_state = 86
                transfer_state = 141
                transfer_state = 145
                transfer_state = 148
                transfer_state = 149
                transfer_state = 160
                transfer_state = 166
                transfer_state = 169
                transfer_state = 303
                transfer_state = 304
                transfer_state = 307
                transfer_state = 562
                transfer_state = 611
                transfer_state = 641
                transfer_state = 687
                add_state_core = 50
                add_state_core = 80
                add_state_core = 86
                add_state_core = 141
                add_state_core = 148
                add_state_core = 149
                add_state_core = 160
                add_state_core = 303
                add_state_core = 304
                add_state_core = 307
                add_state_core = 562
                add_state_core = 611
                add_state_core = 687
                set_cosmetic_tag = SAZ_collaborator
                #recruit_character = SAZ_arizona_ranger idk doesnt work 
            }
            set_autonomy = { target = SAZ autonomy_state = autonomy_satellite }
            SNV = {
                remove_state_core = 50
                remove_state_core = 141
                remove_state_core = 611
                remove_state_core = 687
                add_state_claim = 50
                add_state_claim = 141
                add_state_claim = 611
                add_state_claim = 687
            }
            NAV = {
                remove_state_core = 86
                remove_state_core = 303
                remove_state_core = 304
                add_state_claim = 86
                add_state_claim = 303
                add_state_claim = 304
            }
            SNM = {
                remove_state_core = 146
                remove_state_core = 147
                remove_state_core = 148
                remove_state_core = 149
                remove_state_core = 150
                remove_state_core = 151
                remove_state_core = 160
                remove_state_core = 304
                remove_state_core = 307
                add_state_claim = 148
                add_state_claim = 149
                add_state_claim = 160
                add_state_claim = 304
                add_state_claim = 307
                add_state_claim = 562
            }
            MCO = {
                transfer_state = 123
                transfer_state = 593
                transfer_state = 594
                transfer_state = 805
                add_state_core = 123
                add_state_core = 593
                add_state_core = 594
                add_state_core = 805
            }
        }
    }
    STX_Greater_Utah_Client = {
        icon = GFX_
        available = {
            custom_trigger_tooltip = {
                tooltip = controls_utah_tt
                controls_utah_trigger = yes
            }
            controls_state = 302
        }
        visible = {
            has_completed_focus = STX_road_to_california
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SUT = {
                transfer_state = 49
                transfer_state = 87
                transfer_state = 144
                transfer_state = 299
                transfer_state = 300
                transfer_state = 302
                transfer_state = 305
                transfer_state = 306
                transfer_state = 308
                transfer_state = 311
                transfer_state = 313
                transfer_state = 314
                transfer_state = 315
                transfer_state = 441
                transfer_state = 733
                add_state_core = 305
                add_state_core = 306
                add_state_core = 314
                add_state_core = 315
                set_cosmetic_tag = SUT_rangercollaborator
            }
            set_autonomy = { target = SUT autonomy_state = autonomy_satellite }
            SCO = {
                remove_state_core = 305
                remove_state_core = 306
                remove_state_core = 314
                remove_state_core = 315
                add_state_claim = 305
                add_state_claim = 306
                add_state_claim = 314
                add_state_claim = 315
            }
        }
    }
    STX_Nevada_Client = {
        icon = GFX_
        available = {
            is_subject = no
            controls_state = 142
            controls_state = 143
            controls_state = 686
        }
        visible = {
            has_completed_focus = STX_road_to_california
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SNV = {
                transfer_state = 142
                transfer_state = 143
                transfer_state = 686
                set_cosmetic_tag = SNV_rangerstate
            }
            set_autonomy = { target = SNV autonomy_state = autonomy_colony }
        }
    }
    STX_California_Clients = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_california_tt
                controls_california_trigger = yes
            }
            custom_trigger_tooltip = {
                tooltip = own_baja_california_tt
                controls_baja_california = yes
            }
        }
        visible = {
            has_completed_focus = STX_challange_the_bear
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            JEF = {
                transfer_state = 24
                transfer_state = 52
                transfer_state = 172
                transfer_state = 173
                transfer_state = 252
                transfer_state = 253
                transfer_state = 404
                add_state_core = 24
                add_state_core = 52
                add_state_core = 404
                set_capital = { state = 52 }
                set_cosmetic_tag = JEF_rangercollaborator
            }
            set_autonomy = { target = JEF autonomy_state = autonomy_satellite }
            LAA = {
                transfer_state = 43
                transfer_state = 51
                transfer_state = 55
                transfer_state = 56
                transfer_state = 57
                transfer_state = 85
                transfer_state = 170
                transfer_state = 171
                transfer_state = 208
                transfer_state = 400
                transfer_state = 804
                add_state_core = 51
                add_state_core = 55
                add_state_claim = 56
                add_state_claim = 57
                add_state_core = 85
                add_state_core = 170
                add_state_core = 171
                add_state_claim = 208
                add_state_core = 400
                add_state_claim = 804
                set_cosmetic_tag = LAA_rangercollaborator
            }
            set_autonomy = { target = LAA autonomy_state = autonomy_satellite }
            SNV = {
                transfer_state = 402
                add_state_core = 402
            }
            SCA = {
                transfer_state = 25
                transfer_state = 83
                transfer_state = 84
                transfer_state = 401
                transfer_state = 403
                remove_state_core = 24
                remove_state_core = 51
                remove_state_core = 52
                remove_state_core = 55
                remove_state_core = 85
                remove_state_core = 170
                remove_state_core = 171
                remove_state_core = 172
                remove_state_core = 173
                remove_state_core = 252
                remove_state_core = 253
                remove_state_core = 400
                remove_state_core = 402
                remove_state_core = 404
                remove_state_core = 688
                set_capital = { state = 25 }
                set_cosmetic_tag = SCA_rangerauthority
            }
            BAJ = {
                transfer_state = 58
                transfer_state = 81
                transfer_state = 82
                set_cosmetic_tag = BAJ_rangeroutpost
            }
            set_autonomy = { target = SCA autonomy_state = autonomy_colony }
            set_autonomy = { target = BAJ autonomy_state = autonomy_colony }
            add_named_threat = { threat = -5 name = "End of Westward Ranger Expansion" }
        }
    }
    STX_Oklahoma_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_oklahoma_tt
                controls_oklahoma_trigger = yes
            }
            SKS = {
                is_subject = yes
            }
        }
        visible = {
            has_completed_focus = STX_revenge_against_oklahoma_and_louisiana
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SKS = {
                transfer_state = 237
                transfer_state = 238
                transfer_state = 239
                add_state_core = 237
                add_state_core = 238
                add_state_core = 239
            }
            transfer_state = 235
            transfer_state = 236
            transfer_state = 240
            SOK = {
                remove_state_core = 235
                remove_state_core = 236
                remove_state_core = 237
                remove_state_core = 238
                remove_state_core = 239
                remove_state_core = 240
            }
        }
    }
    STX_Louisiana_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_louisiana_tt
                controls_louisiana_trigger = yes
            }
        }
        visible = {
            has_completed_focus = STX_revenge_against_oklahoma_and_louisiana
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            transfer_state = 19
            transfer_state = 20
            transfer_state = 21
            transfer_state = 75
            transfer_state = 753
            WFL = {
                transfer_state = 18
                transfer_state = 752
                set_cosmetic_tag = WFL_rangercreation
            }
            SLA = {
                remove_state_core = 19
                remove_state_core = 20
                remove_state_core = 21
                remove_state_core = 75
                remove_state_core = 753
            }
            set_autonomy = { target = WFL autonomy_state = autonomy_colony }
        }
    }
    STX_Arkansas_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_arkansas_tt
                controls_arkansas_trigger = yes
            }
        }
        visible = {
            has_completed_focus = STX_through_arkansas_and_tennesse
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            transfer_state = 121
            transfer_state = 338
            SAR = {
                remove_state_core = 121
                remove_state_core = 338
                transfer_state = 310
                transfer_state = 347
                set_cosmetic_tag = SAR_ozarkrangers
            }
            set_autonomy = { target = SAR autonomy_state = autonomy_colony }
        }
    }
    STX_Delta_Client = {
        icon = GFX_
        available = {
            is_subject = no
            owns_state = 754
            owns_state = 759
        }
        visible = {
            has_completed_focus = STX_through_arkansas_and_tennesse
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            DOU = {
                transfer_state = 754
                transfer_state = 759
                add_state_core = 754
                add_state_core = 759
                set_cosmetic_tag = DOU_deltastate
            }
            set_autonomy = { target = DOU autonomy_state = autonomy_colony }
        }
    }
    STX_Mississippi_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_mississippi_tt
                controls_mississippi_trigger = yes
            }
        }
        visible = {
            has_completed_focus = STX_push_into_the_deep_south
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            DOU = {
                transfer_state = 157
                transfer_state = 758
                add_state_core = 157
                add_state_core = 758
            }
            WFL = {
                transfer_state = 155
                transfer_state = 156
                transfer_state = 159
                transfer_state = 757
            }
            SMS = {
                transfer_state = 158
                transfer_state = 241
                set_cosmetic_tag = SMS_alluvia
            }
            set_autonomy = { target = SMS autonomy_state = autonomy_colony }
        }
    }
    STX_Alabama_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_alabama_tt
                controls_alabama_trigger = yes
            }
            WFL = {
                is_subject = yes
            }
            SMS = {
                is_subject = yes
            }
        }
        visible = {
            has_completed_focus = STX_push_into_the_deep_south
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            WFL = {
                transfer_state = 22
                transfer_state = 23
                transfer_state = 336
                transfer_state = 756
            }
            SMS = {
                transfer_state = 337
                transfer_state = 639
                transfer_state = 640
                transfer_state = 755
                add_state_core = 337
                add_state_core = 639
                add_state_core = 640
                add_state_core = 755
            }
            SAL = {
                remove_state_core = 337
                remove_state_core = 639
                remove_state_core = 640
                remove_state_core = 755
            }
        }
    }
    STX_Tennessee_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_tennessee_tt
                controls_tennessee_trigger = yes
            }
            SAR = {
                is_subject = yes
            }
        }
        visible = {
            has_completed_focus = STX_through_arkansas_and_tennesse
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SAR = {
                transfer_state = 361
                transfer_state = 518
                add_state_core = 361
                add_state_core = 518
                set_capital = { state = 518 }
            }
            STN = {
                transfer_state = 360
                transfer_state = 519
                transfer_state = 520
                transfer_state = 521
                transfer_state = 522
                transfer_state = 523
                transfer_state = 524
                set_cosmetic_tag = STN_rangersmokies
            }
            set_autonomy = { target = STN autonomy_state = autonomy_colony }
        }
    }
    STX_Georgia_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_georgia_tt
                controls_georgia_trigger = yes
            }
            SMS = {
                is_subject = yes
            }
            WFL = {
                is_subject = yes
            }
        }
        visible = {
            has_completed_focus = STX_into_georgia_and_florida
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SMS = {
                transfer_state = 74
                transfer_state = 348
                transfer_state = 407
                add_state_core = 74
                add_state_core = 348
                add_state_core = 407
            }
            WFL = {
                transfer_state = 335
                add_state_core = 335
            }
            SGA = {
                remove_state_core = 74
                remove_state_core = 348
                remove_state_core = 407
            }
        }
    }
    STX_Florida_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_florida_tt
                controls_florida_trigger = yes
            }
            WFL = {
                is_subject = yes
            }
        }
        visible = {
            has_completed_focus = STX_into_georgia_and_florida
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            WFL = {
                transfer_state = 13
                transfer_state = 14
                add_state_core = 14
                set_capital = { state = 22 }
            }
            SFL = {
                transfer_state = 15
                transfer_state = 16
                transfer_state = 17
                set_capital = { state = 15 }
                set_cosmetic_tag = SFL_rangerpartition
            }
            MIA = {
                transfer_state = 11
                transfer_state = 12
                transfer_state = 232
                add_state_core = 12
                add_state_core = 232
                set_cosmetic_tag = MIA_rangercity
            }
            set_autonomy = { target = SFL autonomy_state = autonomy_colony }
            set_autonomy = { target = MIA autonomy_state = autonomy_satellite }
        }
    }
    STX_South_Carolina_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_south_carolina_tt
                controls_south_carolina_trigger = yes
            }
            NOT = {
                country_exists = SGA
            }
        }
        visible = {
            has_completed_focus = STX_into_the_carolinas
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SSC = {
                transfer_state = 73
                transfer_state = 349
                transfer_state = 350
                transfer_state = 351
                transfer_state = 352
                transfer_state = 406
                transfer_state = 408
                transfer_state = 409
                transfer_state = 410
                transfer_state = 770
                transfer_state = 771
                add_state_core = 349
                add_state_core = 350
                add_state_core = 406
                add_state_core = 408
                add_state_core = 409
                add_state_core = 410
                set_cosmetic_tag = SSC_rangercollaborators
            }
            set_autonomy = { target = SSC autonomy_state = autonomy_satellite }
        }
    }
    STX_North_Carolina_Client = {
        icon = GFX_
        available = {
            is_subject = no
            custom_trigger_tooltip = {
                tooltip = controls_north_carolina_tt
                controls_north_carolina_trigger = yes
            }
            STN = {
                is_subject = yes
            }
            SSC = {
                is_subject = yes
            }
        }
        visible = {
            has_completed_focus = STX_into_the_carolinas
        }
        cost = 0
        fire_only_once = yes
        days_remove = 0
        ai_will_do = {
            factor = 20
        }
        complete_effect = {
            SSC = {
                transfer_state = 353
                transfer_state = 767
                transfer_state = 768
                add_state_core = 353
                add_state_core = 767
                add_state_core = 768
            }
            STN = {
                transfer_state = 355
                transfer_state = 766
                add_state_core = 355
                add_state_core = 766
            }
            SNC = {
                transfer_state = 354
                transfer_state = 356
                transfer_state = 769
                set_cosmetic_tag = SNC_coastalrangers
            }
            set_autonomy = { target = SNC autonomy_state = autonomy_colony }
        }
    }
}